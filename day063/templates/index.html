{% extends 'base.html' %}
<!-- {% from 'bootstrap5/table.html' import render_table %} -->

{% block title %}My Library{% endblock %}

{% block content %}
<h1>My Library</h1>
{% if books %}
<!-- {{ render_table(
  books,
  titles=titles,
  show_actions=True,
  actions_title='Change rating',
  )
}} -->
<table class="table">
    <thead>
    <tr>
      {% for item in titles %}
        <th scope="col">{{ item[1] }}</th>
      {% endfor %}
      <th scope="col">Action</th>
      <th scope="col">Action</th>
    </tr>
    </thead>
    <tbody>
      {% for book in books %}
      <tr>
          <th scope="row">{{ book['id'] }}</th>
          <td>{{ book['title'] }}</td>
          <td>{{ book['author'] }}</td>
          <td>{{ book['rating'] }}</td>
          <td><a href="{{ url_for('change_rating', id=book['id']) }}">Change rating</a></td>
          <td><a href="{{ url_for('delete', id=book['id']) }}">Delete book</a></td>
      </tr>
      {% endfor %}
    </tbody>
</table>
{% else %}
<h2>There has no book in the library yet.</h2>
{% endif %}
<a href="{{ url_for('add') }}">Add a New Book</a>
{% endblock %}